{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "PropertyManagementData",
    "description": "Property management data",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "metaData": {
            "title": "MetaData",
            "description": "Meta information",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "dateTime": {
                    "title": "DateTime",
                    "description": "Acquisition date and time",
                    "$comment": "Assigns the **current date and time**.",
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-07-23T09:23:31",
                    "pattern": "^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([012345][0-9]):([012345][0-9])$"
                },
                "results": {
                    "title": "Results",
                    "description": "Number of acquired data",
                    "$comment": "Enter the **number of data obtained**.",
                    "type": "integer",
                    "minimum": 0
                }
            },
            "required": [
                "dateTime",
                "results"
            ]
        },
        "managementDataList": {
            "title": "ManagementDataList",
            "description": "List of management data",
            "$comment": "List of **management data**",
            "type": "array",
            "items": {
                "$ref": "#/$defs/managementData"
            }
        }
    },
    "required": [
        "metaData"
    ],
    "$defs": {
        "managementData": {
            "title": "ManagementData",
            "description": "Management data",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "$ref": "#/$defs/dataItems/name"
                },
                "mobileNumber": {
                    "title": "MobileNumber",
                    "description": "Tenant's mobile phone number",
                    "$comment": "**An 11-digit mobile phone number string without hyphens**",
                    "type": "string",
                    "example": "09043219876",
                    "pattern": "^0[789]0[0-9]{8}$",
                    "minLength": 11,
                    "maxLength": 11
                },
                "phoneNumber": {
                    "title": "PhoneNumber",
                    "description": "Tenant's phone number",
                    "$comment": "**A 10-digit or 11-digit phone number string that does not include hyphens**",
                    "type": "string",
                    "example": "0343219876",
                    "pattern": "^(0[1-9][0-9]{8}|050[0-9]{8})$",
                    "minLength": 10,
                    "maxLength": 11
                }
            },
            "required": [
                "name"
            ],
            "anyOf": [
                {
                    "required": [
                        "mobileNumber"
                    ]
                },
                {
                    "required": [
                        "phoneNumber"
                    ]
                }
            ]
        },
        "dataItems": {
            "title": "DataItems",
            "description": "Data items",
            "$comment": "Dataset items",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "title": "Name",
                    "description": "name",
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "_firstName": {
                            "title": "FirstName",
                            "description": "first name",
                            "type": "string",
                            "example": "太郎",
                            "minLength": 1
                        },
                        "_lastName": {
                            "title": "LastName",
                            "description": "last name",
                            "type": "string",
                            "example": "山田",
                            "minLength": 1
                        },
                        "_kana": {
                            "title": "NameKana",
                             "description": "name kana",
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "_firstName": {
                                    "title": "FirstNameKana",
                                    "description": "first name kana", 
                                    "type": "string",
                                    "example": "タロウ",
                                    "minLength": 1
                                },
                                "_lastName": {
                                    "title": "LastNameKana",
                                    "description": "last name kana",
                                    "type": "string",
                                    "example": "ヤマダ",
                                    "minLength": 1
                                }
                            },
                            "required": [
                                "_firstName",
                                "_lastName"
                            ]
                        }
                    },
                    "required": [
                        "_firstName",
                        "_lastName",
                        "_kana"
                    ]
                }
            }
        }
    }
}
